pacman::p_load(haven, dplyr)
data<- read.sav("input/data/original/161223_BDD_estudiantes_VF.sav")
data<- read_sav("input/data/original/161223_BDD_estudiantes_VF.sav")
View(data)
table(data$aleatorio)
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99 como missing para todas las variables con rango [1-4]
bbdd_alumnos <- data %>%
mutate_at(vars(20:104), na_if, 99) %>%
mutate_at(vars(20:104), na_if, 88)
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99 como missing para todas las variables con rango [1-4]
bbdd_alumnos <- data %>%
mutate_at(vars(20:67 & 69:104), na_if, 99) %>%
mutate_at(vars(20:67 & 69:104), na_if, 88)
View(bbdd_alumnos)
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99 como missing para todas las variables con rango [1-4]
bbdd_alumnos <- data[20:104] %>% set_na(., na = c(-2, -1))
pacman::p_load(haven, dplyr, sjmisc)
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99 como missing para todas las variables con rango [1-4]
bbdd_alumnos <- data[20:104] %>% set_na(., na = c(-2, -1))
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99 como missing para todas las variables con rango [1-4]
bbdd_alumnos <- data %>% set_na(., na = c(-2, -1))
?skim
??skim
pacman::p_load(haven, dplyr, sjmisc, skimr)
#Exploramos la base de datos
skim_with(numeric = list(complete=NULL),factor = list(complete=NULL), integer = list(complete=NULL), character = list(complete=NULL))
skim(bbdd_alumnos) %>% pander()
??pander
pacman::p_load(haven, dplyr, sjmisc, skimr, pander)
skim(bbdd_alumnos) %>% pander()
pacman::p_load(haven, dplyr, sjmisc, skimr, pander, knitr, kableExtra)
??st_css
?skim
test<-skim(bbdd_alumnos) %>% pander()
test<-skim(bbdd_alumnos)
View(test)
names(test)
skim(bbdd_alumnos) %>% dplyr::select(skim_type, skim_variable, n_missing, numeric.mean, numeric.sd, numeric.p0, numeric.p100, numeric.hist) %>% pander()
pacman::p_load(haven, dplyr, sjmisc, skimr, pander, knitr, kableExtra)
data<- read_sav("input/data/original/211223_BDD_estudiantes_VF.sav")
View(data)
frq(data$p1_10)
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99-88 como missing para todas las variables
bbdd_alumnos <- data %>% set_na(., na = c(99, 88))
test <- skim(bbdd_alumnos)
View(test)
#Exploramos la base de datos
test <- as_factor(data$p1_3)
frq(test)
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99-88 como missing para todas las variables
bbdd_alumnos <- data %>% set_na(., na = c(99, 88))
?starts_with
?starts_with
??starts_with
View(bbdd_alumnos)
View(bbdd_alumnos)
for (i in c(starts_with("p1", "p2", "p8", "p9", "p17"))) {
bbdd_alumnos[[i]] <-
sjlabelled::set_labels(x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo","Desacuerdo",
"De acuerdo", "Muy de acuerdo"))
}
for (i in starts_with("p1", "p2", "p8", "p9", "p17")) {
bbdd_alumnos[[i]] <-
sjlabelled::set_labels(x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo","Desacuerdo",
"De acuerdo", "Muy de acuerdo"))
}
for (i in starts_with(c("p1", "p2", "p8", "p9", "p17"))) {
bbdd_alumnos[[i]] <-
sjlabelled::set_labels(x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo","Desacuerdo",
"De acuerdo", "Muy de acuerdo"))
}
for (i in select(starts_with("p1", "p2", "p8", "p9", "p17"))) {
bbdd_alumnos[[i]] <-
sjlabelled::set_labels(x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo","Desacuerdo",
"De acuerdo", "Muy de acuerdo"))
}
for (i in select(starts_with("p1"))) {
bbdd_alumnos[[i]] <-
sjlabelled::set_labels(x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo","Desacuerdo",
"De acuerdo", "Muy de acuerdo"))
}
for (i in starts_with("p1")) {
bbdd_alumnos[[i]] <-
sjlabelled::set_labels(x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo","Desacuerdo",
"De acuerdo", "Muy de acuerdo"))
}
selected_vars <- select(bbdd_alumnos, starts_with("p1", "p2", "p8", "p9", "p17"))
selected_vars <- select(bbdd_alumnos, tidyselect::starts_with("p1", "p2", "p8", "p9", "p17"))
selected_vars <- select(bbdd_alumnos, tidyselect::starts_with("p1", "p2", "p8", "p9", "p17"))
selected_vars <- dplyr::select(bbdd_alumnos, tidyselect::starts_with("p1", "p2", "p8", "p9", "p17"))
selected_vars <- dplyr::select(bbdd_alumnos, tidyselect::starts_with("p1"), starts_with("p2"), starts_with("p8"), starts_with("p9"), starts_with("p17"))
View(selected_vars)
selected_vars <- dplyr::select(bbdd_alumnos, tidyselect::starts_with("p1_"), starts_with("p2_"), starts_with("p8_"), starts_with("p9_"), starts_with("p17_"))
for (i in names(selected_vars)) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo")
)
}
View(selected_vars)
frq(selected_vars$p1_1)
sjlabelled::get_labels(selected_vars$p1_1)
sjlabelled::get_label(selected_vars$p1_1)
for (i in c(selected_vars)) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo")
)
}
frq(bbdd_alumnos$p1_1)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p1_"), starts_with("p2_"), starts_with("p8_"), starts_with("p9_"), starts_with("p17_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo")
)
}
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99-88 como missing para todas las variables
bbdd_alumnos <- data %>% set_na(., na = c(99, 88))
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p1_"), starts_with("p2_"), starts_with("p8_"), starts_with("p9_"), starts_with("p17_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo")
)
}
frq(bbdd_alumnos$p1_1)
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nada importante", "Algo importante", "Importante", "Muy importante")
)
frq(bbdd_alumnos$p10_1)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p10_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nada importante", "Algo importante", "Importante", "Muy importante")
)
}
frq(bbdd_alumnos$p10_1)
frq(bbdd_alumnos$p1_1)
frq(bbdd_alumnos$p10_1)
options(scipen=9999) # desactivar notacion cientifica
data<- read_sav("input/data/original/211223_BDD_estudiantes_VF.sav")
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99-88 como missing para todas las variables
bbdd_alumnos <- data %>% set_na(., na = c(99, 88))
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p1_"), starts_with("p2_"), starts_with("p8_"), starts_with("p9_"), starts_with("p17_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo")
)
}
frq(bbdd_alumnos$p1_1)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p10_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nada importante", "Algo importante", "Importante", "Muy importante")
)
}
frq(bbdd_alumnos$p10_1)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p11_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Seguro no haré esto", "Tal vez haré esto", "Probablemente haré esto", "Seguro haré esto")
)
}
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p12_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Si", "No")
)
}
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p13_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nunca", "Una vez al año", "Una vez al mes", "Semanalmente", "Todos los días")
)
}
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p13_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nunca", "Casi nunca", "Casi siempre", "Siempre")
)
}
frq(bbdd_alumnos$p13_1)
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99-88 como missing para todas las variables
bbdd_alumnos <- data %>% set_na(., na = c(99, 88))
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p1_"), starts_with("p2_"), starts_with("p8_"), starts_with("p9_"), starts_with("p17_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo")
)
}
frq(bbdd_alumnos$p1_1)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p10_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nada importante", "Algo importante", "Importante", "Muy importante")
)
}
frq(bbdd_alumnos$p10_1)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p11_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Seguro no haré esto", "Tal vez haré esto", "Probablemente haré esto", "Seguro haré esto")
)
}
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p12_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Si", "No")
)
}
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p13_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nunca", "Una vez al año", "Una vez al mes", "Semanalmente", "Todos los días")
)
}
frq(bbdd_alumnos$p13_1)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p18_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nunca", "Casi nunca", "Casi siempre", "Siempre")
)
}
#Exploramos la base de datos
skim(bbdd_alumnos) %>% dplyr::select(skim_type, skim_variable, n_missing, numeric.mean, numeric.sd, numeric.p0, numeric.p100, numeric.hist)
pacman::p_load(haven, dplyr, sjmisc, skimr, pander, knitr, kableExtra, sjlabelled, Summarytools)
?summarytools
??summarytools
pacman::p_load(haven, dplyr, sjmisc, skimr, pander, knitr, kableExtra, sjlabelled, summarytools)
bbdd_alumnos %>% dplyr::select(tidyselect::starts_with("p13_")) %>% summarytools::dfSummary()
df1 <- bbdd_alumnos %>% dplyr::select(tidyselect::starts_with("p13_")) %>%
dfSummary(.,
plain.ascii = FALSE,
style = "grid",
tmp.img.dir = "/tmp",
graph.magnif = 0.75,
headings = F,  # encabezado
varnumbers = F, # num variable
labels.col = T, # etiquetas
na.col = T,    # missing
graph.col = F, # plot
valid.col = T # n valido
)
df1$Variable <- NULL
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p18_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nunca", "Casi nunca", "Casi siempre", "Siempre")
)
}
frq(bbdd_alumnos$p18_1)
pacman::p_load(haven, dplyr, sjmisc, skimr, pander, knitr, kableExtra, sjlabelled, summarytools)
data<- read_sav("input/data/original/170124_BDD_estudiantes.sav")
#Base General con el cuestionario para estudiantes
#Codificamos los valores 99-88 como missing para todas las variables
bbdd_alumnos <- data %>% set_na(., na = c(99, 88))
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p1_"), starts_with("p2_"), starts_with("p8_"), starts_with("p9_"), starts_with("p17_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Muy en desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo")
)
}
frq(bbdd_alumnos$p1_1)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p10_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nada importante", "Algo importante", "Importante", "Muy importante")
)
}
frq(bbdd_alumnos$p10_1)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p11_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Seguro no haré esto", "Tal vez haré esto", "Probablemente haré esto", "Seguro haré esto")
)
}
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p12_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Si", "No")
)
}
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p13_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nunca", "Una vez al año", "Una vez al mes", "Semanalmente", "Todos los días")
)
}
frq(bbdd_alumnos$p13_1)
View(bbdd_alumnos)
for (i in names(dplyr::select(bbdd_alumnos, tidyselect::starts_with("p18_")))) {
bbdd_alumnos[[i]] <- sjlabelled::set_labels(
x = bbdd_alumnos[[i]],
labels = c("Nunca", "Casi nunca", "Casi siempre", "Siempre")
)
}
frq(bbdd_alumnos$p18_1)
frq(bbdd_alumnos$p1_1)
df1 <- bbdd_alumnos %>% dplyr::select(tidyselect::starts_with("p1")) %>%
dfSummary(.,
plain.ascii = FALSE,
style = "grid",
tmp.img.dir = "/tmp",
graph.magnif = 0.75,
headings = F,  # encabezado
varnumbers = F, # num variable
labels.col = T, # etiquetas
na.col = T,    # missing
graph.col = F, # plot
valid.col = T # n valido
)
df1
pacman::p_load(haven, dplyr, sjmisc, skimr, pander, knitr, kableExtra, sjlabelled, summarytools, sjmisc)
??sjt.xtab
pacman::p_load(haven, dplyr, sjmisc, skimr, pander, knitr, kableExtra, sjlabelled, summarytools, sjmisc, sjPlot)
sjt.xtab(bbdd_alumnos$aleatorio, bbdd_alumnos$p1_1)
sjt.xtab(bbdd_alumnos$aleatorio, bbdd_alumnos$p1_1, encoding = "UTF-8")
sjt.xtab(bbdd_alumnos$aleatorio, bbdd_alumnos$p1_1, encoding = "UTF-8", show.col.prc = TRUE, show.summary = FALSE)
sjt.xtab(bbdd_alumnos$aleatorio, bbdd_alumnos$p1_2, encoding = "UTF-8", show.col.prc = TRUE, show.summary = FALSE)
